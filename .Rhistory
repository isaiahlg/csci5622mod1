install.packages("devtools")
devtools::install_github("ropensci/rdhs")
version
Sys.which("make")
install.packages("devtools")
devtools::install_github("ropensci/rdhs")
library(rdhs)
knitr::opts_chunk$set(echo = TRUE)
# install.packages("devtools")
# devtools::install_github("ropensci/rdhs")
library(rdhs)
# install.packages("devtools")
# devtools::install_github("ropensci/rdhs")
library(rdhs)
# install.packages("devtools")
# devtools::install_github("ropensci/rdhs")
library(rdhs)
# install.packages("devtools")
# devtools::install_github("ropensci/rdhs")
library(rdhs)
knitr::opts_chunk$set(echo = TRUE)
library(httr)
r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL")
r
# r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL")
r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SLHR7AFL")
r
# r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL")
r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SLHR7AFL?fileType=flat&f=csv")
# r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL")
r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL?fileType=flat&f=csv")
r
# r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL")
# r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL?fileType=flat&f=csv")
r <- GET("https://api.dhsprogram.com/rest/dhs/datasets/SL")
r
content(r)
library(rdhs)
library(rdhs)
set_rdhs_config(email = "isaiah.lyons-galante@colorado.edu",
project = "Machine Learning Class Project")
str(ids)
library(rdhs)
set_rdhs_config(email = "isaiah.lyons-galante@colorado.edu",
project = "Machine Learning Class Project")
## what are the countryIds
ids <- dhs_countries(returnFields=c("CountryName", "DHS_CountryCode"))
str(ids)
str(surveys)
surveys <- dhs_surveys(countryIds = c("SL"),
surveyType = "DHS",
surveyYearStart = 2018)
str(surveys)
str(datasets)
datasets <- dhs_datasets(surveyIds = surveys$SurveyId,
fileFormat = "flat")
str(datasets)
head(datasets)
head(datasets, n=10)
head(datasets, n=20)
head(surveys)
head(datasets, n=20)
# download actual datasets
downloads <- get_datasets(datasets$FileName)
# download actual datasets
downloads <- get_datasets("SLHR7AFL.ZIP")
# read in the dataset
slhr2019 <- readRDS(downloads$SLHR7AFL)
str(slhr2019)
head(slhr2019)
var_labels <- get_variable_labels(slhr2019)
head(var_labels)
R.home()
knitr::opts_chunk$set(echo = TRUE)
write.csv(var_labels, "C:\\Users\\ilyon\\Documents\\code\\csci5622\\module1\\exports\\var_labels.csv")
write.csv(slhr2019, "C:\\Users\\ilyon\\Documents\\code\\csci5622\\module1\\exports\\slhr2019.csv")
knitr::opts_chunk$set(echo = TRUE)
library(rdhs)
# set credentials for accessing DHS API
set_rdhs_config(email = "isaiah.lyons-galante@colorado.edu",
project = "Machine Learning Class Project")
# figure out what DHS uses for country IDs
ids <- dhs_countries(returnFields=c("CountryName", "DHS_CountryCode"))
str(ids)
head(surveys)
# find all surveys for Sierra Leone
surveys <- dhs_surveys(countryIds = c("SL"),
surveyType = "DHS",
surveyYearStart = 2018)
head(surveys)
# find the datasets from this survey
datasets <- dhs_datasets(surveyIds = surveys$SurveyId,
fileFormat = "flat")
head(datasets, n=20)
# download actual datasets
downloads <- get_datasets("SLHR7AFL.ZIP")
# download actual datasets
downloads <- get_datasets("SLHR7AFL.ZIP")
# read in the dataset
slhr2019 <- readRDS(downloads$SLHR7AFL)
head(slhr2019) # 3455 columns! Yikes.
# get the variable labels for all column headers
var_labels <- get_variable_labels(slhr2019)
head(var_labels) # 3455 rows now, just two columns, variable and description
# get the variable labels for all column headers
var_labels <- get_variable_labels(slhr2019)
head(var_labels) # 3455 rows now, just two columns, variable and description
# export data and labels to CSV for visual inspection and workability
write.csv(var_labels, "C:\\Users\\ilyon\\Documents\\code\\csci5622\\module1\\exports\\var_labels.csv")
